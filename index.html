<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standards and Protocols</title>
    <!-- Allows the rendering of markdown in html -->
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Table of contents -->
    <div class="navbar">
        <h3>Table of Contents</h3>
        <a href="#Coding Standards">Coding Standards</a>
        <a href="#Project Structure">Project Structure</a>
        <a href="#Version Control">Version Control (Git)</a>
        <a href="#Testing">Testing</a>
        <a href="#Linting and Code Formatting">Linting and Code Formatting</a>
        <a href="#Security Best Practices">Security Best Practices</a>
        <a href="#CI/CD">Continuous Integration (CI) / Continuous Deployment (CD)</a>
        <a href="#Documentation">Documentation</a>
        <a href="#Running Tests">Running tests</a>
        <a href="#Style Guide">JavaScript Style Guide</a>
        <a href="#Code Reviews">Code Reviews</a>
        <a href="#Conclusion">Conclusion</a>
    </div>
    <!-- Content portion of the webpage -->
    <div class="markdown-portion">
        <md-block>
            # Software Development Standards and Protocols
            ---

            Coding standards help improve readability, maintainability, and collaboration

            <!-- TODO: move all content inside their respective tags and change the respective div tags to section tags -->
            <div id="Coding Standards"></div>

            ### 1. Coding Standards
            Coding standards help improve readability, maintainability, and collaboration in your JavaScript project. Here are common standards:

            #### Example in JavaScript:

            <!-- This CSS class gives code blocks their own style like how Github does -->
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good: Follow consistent naming conventions and use JSDoc comments
                    /**
                    * Calculate the total price including tax
                    * @param {number} price - The initial price
                    * @param {number} taxRate - The tax rate as a decimal (e.g., 0.05 for 5%)
                    * @returns {number} - Total price including tax
                    */
                    function calculateTotalPrice(price, taxRate) {
                        return price + (price * taxRate);
                    }
                    ```
                </md-block>
            </div>

            <!-- Important to leave a blank line after a div tag or the markdown won't be rendered properly -->
            
            - **Use `const` and `let`:** Avoid `var` for declaring variables to prevent scope-related bugs.
            - **Descriptive names:** Use meaningful names for variables and functions.
            - **Arrow functions:** Use arrow functions (`=>`) for shorter, more concise code, especially in callbacks.

            #### Example of Arrow Functions:
            <div class="code-block">
                <md-block>
                    ```javascript
                    const add = (a, b) => a + b;
                    console.log(add(2, 3));  // Output: 5
                    ```
                </md-block>
            </div>

            <div id="Project Structure"></div>

            ### 2. Project Structure
            A well-structured JavaScript project is easy to navigate and maintain as it scales.

            #### Example of a Node.js Project Structure:
            <div class="code-block">
                <md-block>
                    ```
                    my-js-project/
                    │
                    ├── src/
                    │   ├── app.js
                    │   └── utils.js
                    │
                    ├── tests/
                    │   └── app.test.js
                    │
                    ├── docs/
                    │   └── index.md
                    │
                    ├── package.json
                    ├── .gitignore
                    ├── README.md
                    └── .eslintrc.js
                    ```
                </md-block>
            </div>

            - **src/**: Contains source code (e.g., `app.js`, `utils.js`).
            - **tests/**: Contains unit or integration tests (e.g., `app.test.js`).
            - **package.json**: Defines project dependencies and scripts.
            - **.eslintrc.js**: ESLint configuration for enforcing code style.

            <div id="Version Control"></div>

            ### 3. Version Control (Git)
            Git is essential for managing code revisions and collaborating with others.

            #### Git Commands:
            <div class="code-block">
                 <!-- Without the &#160 blank space tags, the code in markdown will render with indentation problems -->
                <md-block>
                    ```bash
                    # Initialize git repository
                    git init
                    &#160 
                    # Create a new feature branch
                    git checkout -b feature/add-authentication
                    &#160 
                    # Add and commit changes
                    git add .
                    git commit -m "Add authentication feature"
                    &#160 
                    # Push changes to the remote repository
                    git push origin feature/add-authentication
                    ```
                </md-block>
            </div>

            - **Branch naming conventions:** Use clear, descriptive branch names like `feature/add-authentication` or `bugfix/fix-login-error`.
            - **Commit message standards:** Follow a convention like [Conventional Commits](https://www.conventionalcommits.org/), e.g., `fix`, `feat`, `chore`.

            <div id="Testing"></div>

            ### 4. Testing
            Testing ensures your code works as expected and catches issues before deployment. For JavaScript, you can use testing frameworks like **Jest** or **Mocha**.

            #### Example in JavaScript (using Jest):
            <div class="code-block">
                <md-block>
                    ```javascript
                    // src/app.js
                    function sum(a, b) {
                        return a + b;
                    }
                    &#160
                    module.exports = sum;
                    &#160 
                    // tests/app.test.js
                    const sum = require('../src/app');
                    &#160 
                    test('adds 1 + 2 to equal 3', () => {
                        expect(sum(1, 2)).toBe(3);
                    });
                    ```
                </md-block>
            </div>

            - **Run tests:**
            <div class="code-block">
                <md-block>
                    ```bash
                    npm test
                    ```
                </md-block>
            </div>

            - **Ensure high test coverage** by writing both unit and integration tests.

            <div id="Linting and Code Formatting"></div>

            ### 5. **Linting and Code Formatting**
            Use tools like **ESLint** and **Prettier** to enforce consistent code style and formatting.

            #### Setting Up ESLint:
            1. Install ESLint:
            <div class="code-block">
                <md-block>
                    ```bash
                    npm install eslint --save-dev
                    ```
                </md-block>
            </div>

            2. Initialize ESLint:
            <div class="code-block">
                <md-block>
                    ```bash
                    npx eslint --init
                    ```
                </md-block>
            </div>

            3. Example ESLint configuration (`.eslintrc.js`):
            <div class="code-block">
                <md-block>
                    ```javascript
                    module.exports = {
                        env: {
                            browser: true,
                            es2021: true,
                            node: true,
                        },
                        extends: 'eslint:recommended',
                        parserOptions: {
                            ecmaVersion: 12,
                            sourceType: 'module',
                        },
                        rules: {
                            'no-console': 'warn',
                            'no-unused-vars': 'error',
                            'indent': ['error', 2],
                        },
                    };
                    ```
                </md-block>
            </div>

            4. To run ESLint:
            <div class="code-block">
                <md-block>
                    ```bash
                    npx eslint src/
                    ```
                </md-block>
            </div>

            <div id="Security Best Practices"></div>

            ### 6. **Security Best Practices**
            Security is crucial, especially for web projects. Some best practices include:

            - **Avoid using `eval`:** It can open the door for cross-site scripting (XSS).
            - **Sanitize user input:** Always validate and sanitize inputs to avoid injection attacks.
            
            #### Example of Input Sanitization:
            <div class="code-block">
                <md-block>
                    ```javascript
                    function sanitizeInput(input) {
                        const map = {
                            '&': '&amp;',
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#x27;',
                            "/": '&#x2F;',
                        };
                        return input.replace(/[&<>"'/]/g, (char) => map[char]);
                    }
                    ```
                </md-block>
            </div>

            <div id="CI/CD"></div>

            ### 7. **Continuous Integration (CI) / Continuous Deployment (CD)**
            Automate the testing and deployment of your project. You can use **GitHub Actions**, **Travis CI**, or **CircleCI**.

            #### Example of a GitHub Actions Workflow for Node.js:
            <div class="code-block">
                <md-block>
                    ```yaml
                    # .github/workflows/node.js.yml
                    name: Node.js CI
                    &#160 
                    on: [push, pull_request]
                    &#160 
                    jobs:
                    build:
                        runs-on: ubuntu-latest
                        strategy:
                        matrix:
                            node-version: [14, 16]
                            &#160 
                        steps:
                        - uses: actions/checkout@v2
                        - name: Use Node.js ${{ matrix.node-version }}
                        uses: actions/setup-node@v2
                        with:
                            node-version: ${{ matrix.node-version }}
                        - run: npm install
                        - run: npm test
                    ```
                </md-block>
            </div>

            - This workflow ensures that tests run on every push or pull request.

            <div id="Documentation"></div>

            ### 8. **Documentation**
            Good documentation is crucial for both users and developers working on the project.

            #### Example of a `README.md` file for JavaScript:
            <div class="code-block">
                <!-- TODO: Fix the final ``` not rendering on the webpage -->>
                <md-block>
                    ```markdown
                    # Project Name
                    &#160 
                    ## Description
                    This project does X, Y, and Z.
                    &#160 
                    ## Installation
                    &#160 
                    1. Clone the repository:
                        ```bash
                        git clone https://github.com/username/project.git
                        ```
                    2. Install the dependencies:
                        ```bash
                        npm install
                        ```
                        &#160 
                    ## Usage
                    &#160 
                    To run the application:
                    ```bash
                    node src/app.js
                    ```
                    ```
                </md-block>
            </div>

            <div id="Running Tests"></div>

            ## Running Tests

            To run tests:
            <div class="code-block">
                <md-block>
                    ```bash
                    npm test
                    ```
                </md-block>
            </div>

            <!-- TODO: create a subsection for each of the style guide sections for the table of contents -->
            <!-- For now, this is the only destination for the style guide in the table of contents -->
            <div id="Style Guide"></div>

            Google's JavaScript Style Guide is widely regarded for promoting consistency, readability, and maintainability across codebases. Here, I'll show you how to implement development standards based on **Google's JavaScript Style Guide**, with code examples.

            ### 1. Variable Declaration
            - Use `const` for variables that won't be reassigned.
            - Use `let` for variables that may be reassigned.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Use const for constants
                    const MAX_USERS = 100;
                    &#160 
                    // Use let for variables that may change
                    let userCount = 0;
                    &#160 
                    // Never use var
                    ```
                </md-block>
            </div>

            ### 2. **Naming Conventions**
            - **Functions**: Use `camelCase` for function names.
            - **Constants**: Use `UPPER_SNAKE_CASE` for constant variables.
            - **Classes**: Use `PascalCase` for class names.
            - **Private Variables**: Use an underscore `_` to indicate private properties.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good naming conventions
                    const API_URL = 'https://api.example.com';
                    &#160 
                    function fetchData() {
                        // Function names use camelCase
                        const data = getDataFromServer();
                        return data;
                    }
                    &#160 
                    class UserProfile {
                        constructor(name) {
                            this._name = name;  // Private variable with underscore
                        }
                    }
                    &#160 
                    // Bad examples:
                    var MyVar = 1;  // Avoid var, variable names should use camelCase
                    ```
                </md-block>
            </div>

            ### 3. **Function Declarations**
            Google’s Style Guide recommends using **function declarations** over function expressions where possible. However, when using function expressions (e.g., in callbacks), always use **arrow functions**.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good function declaration
                    function getUserInfo(id) {
                        return fetch(`/users/${id}`);
                    }
                    &#160 
                    // Arrow function in callbacks
                    const users = [1, 2, 3].map((id) => getUserInfo(id));
                    ```
                </md-block>
            </div>

            ### 4. **Use Template Literals**
            Use template literals instead of string concatenation to improve readability, especially when working with variables or expressions.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad:
                    const name = 'John';
                    const greeting = 'Hello, ' + name + '!';
                    &#160 
                    // Good:
                    const greeting = `Hello, ${name}!`;
                    ```
                </md-block>
            </div>

            ### 5. **Control Structures**
            - Always use curly braces `{}` for multi-line `if`, `for`, and `while` blocks, even when they contain only one statement.
            - Place the `else` keyword on the same line as the closing brace for the `if` block.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad:
                    if (userIsAdmin) doSomething();
                    &#160 
                    // Good:
                    if (userIsAdmin) {
                        doSomething();
                    } else {
                        doSomethingElse();
                    }
                    ```
                </md-block>
            </div>

            ### 6. **Objects and Arrays**
            - When defining objects, always add a trailing comma for easier diffs.
            - Use shorthand property names and concise methods in object literals where possible.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad:
                    const user = {
                        name: name,
                        age: age,
                    };
                    &#160 
                    // Good:
                    const user = {
                        name,
                        age,
                    };
                    &#160 
                    // Add a trailing comma for multi-line objects/arrays
                    const fruits = [
                        'apple',
                        'banana',
                        'mango',
                    ];
                    ```
                </md-block>
            </div>

            ### 7. **Error Handling**
            Always use `try-catch` blocks for functions that can throw errors, and prefer using `Error` objects for custom error messages.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    function parseJSON(jsonString) {
                        try {
                            return JSON.parse(jsonString);
                        } catch (e) {
                            throw new Error('Invalid JSON string');
                        }
                    }
                    ```
                </md-block>
            </div>

            ### 8. **Classes and Inheritance**
            Google’s Style Guide suggests using **classes** for object-oriented code. Class methods should use the concise method syntax.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                        class Car {
                        constructor(brand, model) {
                            this.brand = brand;
                            this.model = model;
                        }
                        &#160 
                        // Class method using shorthand
                        start() {
                            console.log(`${this.brand} ${this.model} is starting`);
                        }
                    }
                    &#160 
                    const myCar = new Car('Tesla', 'Model 3');
                    myCar.start();  // Tesla Model 3 is starting
                    ```
                </md-block>
            </div>

            ### 9. **Formatting**
            - Indent code by **2 spaces**, not tabs.
            - Add **a single blank line** before return statements, control structures, and between method definitions.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    function validateUser(user) {
                    if (!user) {
                        return false;
                    }
                    &#160 
                    if (user.isAdmin) {
                        return true;
                    }
                    &#160 
                    return user.age >= 18;
                    }
                    ```
                </md-block>
            </div>

            ### 10. **Arrow Functions**
            Use **arrow functions** for concise syntax, especially for anonymous functions like callbacks. However, prefer named functions for larger blocks or reusable functions.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good: Use arrow functions for concise callbacks
                    const numbers = [1, 2, 3];
                    const doubled = numbers.map((n) => n * 2);
                    &#160 
                    // Bad: Avoid using arrow functions in non-necessary cases
                    const calculate = (a, b) => {
                        return a + b;
                    };
                    &#160 
                    // Good: Use function declaration for reusable logic
                    function calculate(a, b) {
                        return a + b;
                    }
                    ```
                </md-block>
            </div>

            ### 11. **Use Strict Equality**
            Always use strict equality (`===` and `!==`) instead of the looser abstract equality (`==` and `!=`).

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad:
                    if (value == 0) {
                        // This can be ambiguous with type coercion
                    }
                    &#160 
                    // Good:
                    if (value === 0) {
                        // This is strict and avoids unintended type coercion
                    }
                    ```
                </md-block>
            </div>

            ### 12. **Avoid Side Effects**
            Functions should avoid side effects (mutating external variables or changing states outside their scope).

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad: This function modifies external state
                    let count = 0;
                    function increment() {
                        count += 1;
                    }
                    &#160 
                    // Good: This function returns a new value without modifying external state
                    function increment(count) {
                        return count + 1;
                    }
                    ```
                </md-block>
            </div>

            ### 13. **JSDoc Comments**
            Use JSDoc to document your functions and classes, making your code easier to understand and maintain.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    /**
                    * Calculates the total price including tax.
                    * @param {number} price - The base price
                    * @param {number} taxRate - The tax rate as a decimal
                    * @return {number} - The total price with tax
                    */
                    function calculateTotalPrice(price, taxRate) {
                        return price + (price * taxRate);
                    }
                    ```
                </md-block>
            </div>

            ### 14. **Module Imports**
            Google’s Style Guide encourages the use of **ES6 Modules** (`import`/`export`) over CommonJS (`require`). Group imports and keep them at the top of the file.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good: ES6 module syntax
                    import { getUser } from './user';
                    import { fetchData } from './api';
                    &#160 
                    // Bad: Avoid CommonJS imports in modern code
                    const getUser = require('./user');
                    const fetchData = require('./api');
                    ```
                </md-block>
            </div>

            ### 15. **No Unnecessary Comments**
            Avoid cluttering the code with unnecessary comments. Write comments only when the code’s purpose isn’t obvious. 

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad comment:
                    let x = 10;  // Assigns 10 to x
                    &#160 
                    // Good comment:
                    let userCount = 10;  // Number of users allowed to register
                    ```
                </md-block>
            </div>

            ### 16. **No Magic Numbers**
            Use named constants instead of using "magic numbers" (unnamed numeric constants) directly in your code.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Bad: Magic number 3000
                    setTimeout(() => {
                        console.log('Timeout!');
                    }, 3000);
                    &#160 
                    // Good: Use a constant for clarity
                    const TIMEOUT_DURATION = 3000;
                    setTimeout(() => {
                        console.log('Timeout!');
                    }, TIMEOUT_DURATION);
                    ```
                </md-block>
            </div>

            ### 17. **Semicolons**
            Google’s guide advocates for always using semicolons, even though JavaScript can insert them automatically. This prevents unexpected issues with automatic semicolon insertion.

            #### Example:
            <div class="code-block">
                <md-block>
                    ```javascript
                    // Good: Always use semicolons
                    const name = 'Alice';
                    console.log(name);
                    ```
                </md-block>
            </div>

            ---

            ## License
            MIT License

            <div id="Code Reviews"></div>

            ### 9. Code Reviews
            Implementing a strict code review policy ensures that code is reviewed by peers to maintain quality. Use **pull requests** and review tools like **GitHub**, **GitLab**, or **Bitbucket** to facilitate this.

            <div id="Conclusion"></div>

            ### Conclusion
            Following these development standards in JavaScript ensures cleaner, more efficient, and secure code. It also streamlines collaboration in team environments and facilitates easier scaling of projects. Let me know if you need further assistance with any specific topic or tools!
        
        <!-- Possible TODO: add a footer/contact information -->
        </md-block>  
    </div>
</body>
</html>